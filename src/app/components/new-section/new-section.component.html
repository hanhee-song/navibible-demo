<!-- <div class="new-section"> -->

<button class="section__header background-color-strong"
  (click)="isFormOpen = !isFormOpen"
  *ngIf="showHeader">
  <div>
    <button><i class="fa fa-chevron-right" [ngClass]="{ 'rotate': isFormOpen }" aria-hidden="true"></i></button> New Section
  </div>
</button>

<!-- *ngIf="isFormOpen"> -->
<form [ngClass]="{'is-expanded': isFormOpen}"
  class="new-section-form background-color-strong"
  (submit)="submit($event)">
  
  <span class="help-question"><i class="fa fa-question-circle-o" aria-hidden="true"></i></span>
  <div class="input-group">
    <label for="section-name">Name: </label>
    <input class="input-text border-color-default background-color-strong text-color-default"
      [ngModel]="inputName"
      (ngModelChange)="inputName = $event"
      type="text"
      name="section-name"
      id=""
      tabindex="1"
      placeholder="Creation and Fall"
      autofocus>
  </div>

  <div [cdkDropListData]="inputMultiRanges"
    cdkDropList
    class="drag-wrapper"
    (cdkDropListDropped)="drop($event)">
    
    <ng-container *ngFor="let inputMultiRange of inputMultiRanges; let i = index;">
      <div class="input-group draggable"
        [ngClass]="{
          'error': inputMultiRange.error,
          'transparent': i === inputMultiRanges.length - 1 && !inputMultiRange.input
        }"
        cdkDrag>
        <label for="section-reference">Reference: {{inputMultiRange.multiRange}}</label>
        <button class="delete-multi-range font-size-5"
          (click)="onDeleteMultiRange(inputMultiRange, $event)"
          *ngIf="i !== inputMultiRanges.length - 1 || inputMultiRange.input">
          <i class="fa fa-trash" aria-hidden="true"></i>
        </button>
        <input class="input-text border-color-default background-color-strong text-color-default"
          [ngModel]="inputMultiRange.input"
          (ngModelChange)="onInputReferenceChange($event, inputMultiRange)"
          type="text"
          name="section-multi-range-{{i}}"
          tabindex="1"
          placeholder="Genesis 1-11">
      </div>
    </ng-container>
  </div>

  <!-- <button (click)="onAddMultiRange($event)" class="add-multi-range">
    <i class="fa fa-plus" aria-hidden="true"></i> Add New Range
  </button> -->
  
  <div class="form-buttons">
    <button class="cancel-button background-color-subtle-red"
      (click)="onCancel($event)">
      Cancel
    </button>
    <button type="submit"
      class="submit-button background-color-subtle-green">
      {{submitButtonText}}
    </button>
  </div>
</form>
<!-- </div> -->